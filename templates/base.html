<!DOCTYPE html>
{% load staticfiles %}
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.css">
    <link rel="icon" href="{% static 'favicon.ico' %}" type="image/x-icon">
    {% block stylesheets %}

    <!-- Materialize CSS  -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
      <link rel="stylesheet" href="{% static 'css/google-fonts.css' %}">
      <link rel="stylesheet" href="{% static 'css/datatable.css' %}">
    <!-- dataTables JS and CSS -->
      <link rel="stylesheet" type="text/css" href="{% static 'css/buttons.dataTables.css' %}">
      <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
      <script type="text/javascript" src="https://cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js"></script>
      <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.3.1/js/buttons.html5.min.js"></script>
      <script type="text/javascript" src="{% static 'js/buttons.print.js' %}"></script>
      <!-- https://cdn.datatables.net/buttons/1.3.1/js/buttons.print.min.js -->
      <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.3.1/js/dataTables.buttons.min.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    {% endblock %}

    <title>
      {% block title %}
      {% endblock %}
    </title>

    <style>
      /* remoção de style de lista de menu */
      #myUL {
        list-style-type: none;
        padding: 0;
        margin: 0;
      }

      #myUL li a {
        border: 1px solid #ddd;
        margin-top: -1px; /* Prevent double borders */
        background-color: #f6f6f6;
        padding: 12px;
        text-decoration: none;
        font-size: 15px;
        color: black;
        display: block
      }

      #myUL li a.header {
        background-color: #e2e2e2;
        cursor: default;
      }

      #myUL li a:hover:not(.header) {
        background-color: #eee;
      }

    /*Adequação da página a sidebar-nav e footer */
      main, footer {
        padding-left: 300px;
      }
      @media only screen and (max-width : 992px) {
        header, main, footer {
          padding-left: 0;
        }
      }

      h6{
          font-weight: bold;
      }

      #logosidebar{
          width: 110px;
          display: block;
          margin: auto;
      }

      #logo-name-sidebar{
        font-family: 'Roboto Condensed', sans-serif;
        font-size: 20px;
        font-weight: normal;
        display: block;
        margin-top: -1px;
        margin-bottom: 25px;
      }

      #header-logo{
          font-size: 50px;
          font-family: 'Roboto Condensed', sans-serif;
      }

      .dropdown-content{
          margin: 43px 0px !important;
      }

      /* dropdown font color */
      .dropdown-content li > a, .dropdown-content li > span {
          color: #000;
      }

      .navicons{
          margin-top: 2px;
      }

      .navbararrow{
          margin-top: 4px;
      }

      /* Sidebar Styles */

      .sidebar-nav {
          position: absolute;
          top: 0;
          width: 300px;
          margin: 0;
          padding: 0;
      }

      .sidebar-nav li {
          line-height: 40px;
      }

      .sidebar-nav li a {
          display: block;
          text-decoration: none;
          color: #aaaaaa;
      }

      .sidebar-nav i.material-icons.right {
          display: block;
          text-decoration: none;
          color: #aaaaaa;
      }

      .sidebar-nav li a:hover {
          text-decoration: none;
          color: #fff;
          background: rgba(255,255,255,0.2);
      }

      .sidebar-nav li a:active,
      .sidebar-nav li a:focus {
          text-decoration: none;
      }

      .sidebar-nav > .sidebar-brand a:hover {
          color: #fff;
          background: none;
      }
      .search-field{
          top: 10px;
          padding: 10px;
          margin: 10px auto;
      }
      .indent{
          text-indent: 20px;
      }
      .child-menu{
          border-top: 1px #222 solid;
          display: none;
      }

      .child-menu li a span{
          margin-left: 20px;
          font-size: 12px;
      }
      /* Login Form */

      #loginform{
        max-width: 350px;
        padding-top: 43px;
      }

      /* Footer */

      body {
        display: flex;
        min-height: 100vh;
        flex-direction: column;
      }

      main {
        flex: 1 0 auto;
      }

      /* mudar cor do select materialize */
      /*ul.dropdown-content.select-dropdown li span {
          color: #000;
      }*/

      #buttonform{
        width:40%;
        margin-bottom: 5%;
        margin-top: 5%;
        max-width:300px;
      }

      li.search .search-wrapper input#search {
      display: block;
      font-size: 16px;
      font-weight: 300;
      width: 78%;
      height: 43px;
      padding: 0 43px 0 20px;
      border: 0;
        border-top-color: currentcolor;
        border-right-color: currentcolor;
        border-bottom-color: currentcolor;
        border-left-color: currentcolor;
        -moz-border-top-colors: none;
        -moz-border-right-colors: none;
        -moz-border-bottom-colors: none;
        -moz-border-left-colors: none;
        border-image-source: none;
      }

      li.search i.material-icons {
          position: absolute;
          top: 10px;
          right: 6%;
          cursor: pointer;
      }
      /* Ajuste de tamanho da navbar */
      nav {
          height: 43px;
          line-height: 43px;
      }

      nav i, nav [class^="mdi-"], nav [class*="mdi-"], nav i.material-icons {
          height: 43px;
          line-height: 43px;
      }

      nav .button-collapse i {
          height: 43px;
          line-height: 43px;
      }

      nav .brand-logo {
          font-size: 1.6rem;
      }

      nav, nav .nav-wrapper i, nav a.button-collapse, nav a.button-collapse i {
        height: 43px;
        line-height: 43px;
      }

      /*
         Remove a informação de link exibida quando
         passamos o mouse em cima dos links de menus
      */
      .fake-link {
        color: blue;
        text-decoration: underline;
        cursor: pointer;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
    </style>
  </head>
  <body style="background-color: #f2f2f2">
    <!-- Script para redirecionar usuário que não está logado  -->
    {% if not user.is_authenticated %}
      <script language="javascript">
        window.location.href = "{% url 'login' %}"
      </script>
    {% endif %}
    <!-- HEADER -->
    <header class="nav-wrapper">
      <nav class="blue darken-3 z-depth-0">
        <div class="nav-wraper">
          <ul>
            <li>
              <a href="javascript:void(0)" data-activates="slide-out" class="button-collapse hide-on-large-only">
                <i class="material-icons navicons">dehaze</i>
                <!--  -->
              </a>
            </li>
          </ul>
          <ul>
            <li class="dropdown-button right hide-on-med-and-down" data-activates='dropdown2' style="min-width: 130px;">
              <a href="javascript:void(0)">
                <i class="material-icons left navicons">person</i>
                <span>{{ request.user.username }}</span>
              </a>
              <!-- Dropdown Structure -->
              <ul id='dropdown2' class='dropdown-content'>
                <li><a href="{% url 'password_change' %}" class="center">Mudar Senha</a></li>
                <li><a href="{% url 'logout' %}?next={% url 'login' %}" class="center">Sair</a></li>
                <!-- <li class="divider"></li> -->
              </ul>
            </li>
            <li class="right hide-on-med-and-down">
              <a href="{% url 'sgb:index' %}">
                <i class="material-icons left navicons">today</i>
                <span>Calendário</span>
              </a>
            </li>
            <li class="right hide-on-med-and-down">
              <a href="{% url 'sgb:pesquisa_global' %}">
                <i class="material-icons left navicons">search</i>
                <span>Busca Geral</span>
              </a>
            </li>
          </ul>
        </div>
      </nav>
    </header>
    <!-- Sidebar -->
    <div id="slide-out" class="side-nav fixed blue-grey darken-4 z-depth-0">
        <ul class="sidebar-nav">
          <li>
            <div id="logo">
              <a href="{% url 'sgb:index' %}" id="logosidebar" class="circle center"><img src="{% static 'css/icon.png' %}" class="circle center hide-on-med-and-down" id="logosidebar" alt=""></a>
              <h5 class="white-text center hide-on-med-and-down" id="logo-name-sidebar">Gerenciador de Bancas</h5>
              <h5 class="white-text center hide-on-large-only" id="logo-name-sidebar" style="top: 5px">Gerenciador de Bancas</h5>
            </div>

          </li>
          <li class="indent">
            <a id="professomenu" class="master-menu fake-link">
              Professores
              <i class="material-icons right">assignment_ind</i>
            </a>
            <ul id="professoul" class="child-menu blue-grey darken-3">
              <li id="professon">
                <a href="{% url 'sgb:professor_create' %}">
                  <span id="professotexn" >Cadastrar professor</span>
                </a>
              </li>
              <li id="professo">
                <a href="{% url 'sgb:professor_home' %}">
                  <span id="professotex" >Listar professores cadastrados</span>
                </a>
              </li>
              <li id="dispn">
                <a href="{% url 'sgb:disp_create' %}">
                  <span id="disptexn" >Cadastrar disponibilidade</span>
                </a>
              </li>
              <li id="disp">
                <a href="{% url 'sgb:disp_home' %}">
                  <span id="disptex" >Listar disponibilidades cadastrados</span>
                </a>
              </li>
              <li id='curson'>
                <a href="{% url 'sgb:curso_create' %}">
                  <span id='cursotexn'>Selecionar coordenador de curso</span>
                </a>
              </li>
              <li id='curso'>
                <a href="{% url 'sgb:curso_home' %}">
                  <span id='cursotex'>Coordenadores/Cursos cadastrados</span>
                </a>
              </li>
            </ul>
          </li>
          <li class="indent">
            <a id="alunomenu" class="master-menu fake-link">
              Alunos
              <i class="material-icons right">school</i>
            </a>
            <ul id="alunoul" class="child-menu blue-grey darken-3">
              <li id="alunon">
                <a href="{% url 'sgb:aluno_create' %}">
                  <span id="alunotexn">Cadastrar aluno</span>
                </a>
              </li>
              <li id="aluno">
                <a href="{% url 'sgb:aluno_home' %}">
                  <span id="alunotex">Listar alunos cadastrados</span>
                </a>
              </li>
            </ul>
          </li>
          <li class="indent">
            <a id="salamenu" class="master-menu fake-link">
              Salas
              <i class="material-icons right">class</i>
            </a>
            <ul id="salaul" class="child-menu blue-grey darken-3">
              <li id="salan">
                <a href="{% url 'sgb:salas_create' %}">
                  <span id="salatexn" >Cadastrar sala</span>
                </a>
              </li>
              <li id="sala" >
                <a href="{% url 'sgb:salas_home' %}">
                  <span id="salatex">Listar salas cadastradas</span>
                </a>
              </li>
            </ul>
          </li>
          <li class="indent">
            <a id="tccmenu" class="master-menu fake-link">
              Trabalhos
              <i class="material-icons right">description</i>
            </a>
            <ul id="tccul" class="child-menu blue-grey darken-3">
              <li id="tccn">
                <a href="{% url 'sgb:tcc_create_cc' %}">
                  <span id="tcctexn" >Cadastrar trabalho - CC</span>
                </a>
              </li>
              <li id="tccgtin">
                <a href="{% url 'sgb:tcc_create_gti' %}">
                  <span id="tccgtitexn" >Cadastrar trabalho - GTI</span>
                </a>
              </li>
              <li id="tccspin">
                <a href="{% url 'sgb:tcc_create_spi' %}">
                  <span id="tccspitexn">Cadastrar trabalho - SPI</span>
                </a>
              </li>
              <li id="tccredesn">
                <a href="{% url 'sgb:tcc_create_redes' %}">
                  <span id="tccredestexn">Cadastrar trabalho - Redes</span>
                </a>
              </li>
              <li id="tcc">
                <a href="{% url 'sgb:tcc_home' %}">
                  <span id="tcctex">Listar trabalhos cadastrados</span>
                </a>
              </li>
            </ul>
          </li>
          <li class="indent">
            <a class="master-menu fake-link" id="bancamenu">
              Bancas
              <i class="material-icons right">content_paste</i>
            </a>
            <ul id="bancaul" class="child-menu blue-grey darken-3">
              <li id="bancan">
                <a href="{% url 'sgb:banca_data' %}" id="bancatexn">
                  <span id="bancatexn">Cadastrar banca</span>
                </a>
              </li>
              <li id="banca">
                <a href="{% url 'sgb:banca_home' %}">
                  <span id="bancatex">Listar bancas cadastradas</span>
                </a>
              </li>
            </ul>
          </li>
          {% if request.user.is_superuser %}
          <li class="indent">
            <a id="usermenu" class="master-menu fake-link">
              Usuários
              <i class="material-icons right">perm_identity</i>
            </a>
            <ul id="userul" class="child-menu blue-grey darken-3">
              <li id="usern">
                <a href="{% url 'sgb:register' %}">
                  <span id="usertexn">Cadastrar usuário</span>
                </a>
              </li>
              <li id="user">
                <a href="{% url 'sgb:user_home' %}">
                  <span id="usertex" >Listar usuário(s) cadastrado(s)</span>
                </a>
              </li>
            </ul><br class="hide-on-med-and-down">
          </li>
          {% endif %}
            <!-- Menu de usuário para logoff e mudar senha, para telas pequenas -->
            <li class="indent hide-on-large-only">
              <a href="javascript:void(0)" class="master-menu">
                <span><b>{{ request.user.username }}</b></span>
                <i class="material-icons right">person</i>
              </a>
              <ul class="child-menu blue-grey darken-3">
                <li>
                  <a href="javascript:void">
                    <span >Mudar senha</span>
                  </a>
                </li>
                <li>
                  <a href="{% url 'logout' %}?next={% url 'login' %}">
                    <span>Sair</span>
                  </a>
                </li>
              </ul><br>
           </div>
        </ul>
        <!-- Botão Flutuante -->
        <!-- <div class="fixed-action-btn" style="bottom:40px; right:40px">
          <a class="btn-floating btn-large red tooltipped" data-position="left" data-delay="900" data-tooltip="Selecione o que deseja cadastrar">
            <i class="large material-icons">add</i>
          </a>
          <ul>
            <li><a href="{% url 'sgb:professor_create' %}" class="btn-floating orange darken-4 tooltipped" data-position="left" data-delay="50" data-tooltip="Professor"><i class="material-icons">assignment_ind</i></a></li>
            <li><a href="{% url 'sgb:aluno_create' %}" class="btn-floating light-blue darken-4 tooltipped" data-position="left" data-delay="5" data-tooltip="Aluno"><i class="material-icons">school</i></a></li>
            <li><a href="{% url 'sgb:salas_create' %}" class="btn-floating teal darken-4 tooltipped" data-position="left" data-delay="5" data-tooltip="Sala"><i class="material-icons">class</i></a></li>
            <li><a href="{% url 'sgb:tcc_create_cc' %}" class="btn-floating blue-grey darken-2 tooltipped" data-position="left" data-delay="5" data-tooltip="Trabalho"><i class="material-icons">description</i></a></li>
            <li><a href="{% url 'sgb:banca_create' %}" class="btn-floating yellow darken-4 tooltipped" data-position="left" data-delay="5" data-tooltip="Banca"><i class="material-icons">content_paste</i></a></li>
          </ul>
        </div> -->

      <main>
          {% block content %}
          {% endblock %}
      </main>
      <!-- <footer class="blue-grey lighten-5 z-depth-2">
        <div class="center">
          <p>© 2017 Fábrica de Software - GB<p>
        </div>
      </footer> -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
      <script src="{% static 'js/app.js' %}"></script>
      <script type="text/javascript">
        // Delay para tabelas serem exibidas corretamente
        $('#show').delay(100).show(0);
        // Fechar menus ao clicar fora
        $(window).click(function() {
        //Esconde menu se visível
        $('.child-menu').not($(this).next()).slideUp();
        });
        $('.master-menu').click(function(event){
        	event.stopPropagation();
        });
        $('.child-menu').click(function(event){
          event.stopPropagation();
        });
      </script>
  </body>
</html>
